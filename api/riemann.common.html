<!DOCTYPE html>
<html><head><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>riemann.common documentation</title></head><body><div id="header"><h1><a href="index.html">Riemann 0.2.12 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><span>Namespaces</span></h3><ul><li><a href="riemann.bin.html"><span>riemann.bin</span></a></li><li><a href="riemann.blueflood.html"><span>riemann.blueflood</span></a></li><li><a href="riemann.boundary.html"><span>riemann.boundary</span></a></li><li><a href="riemann.campfire.html"><span>riemann.campfire</span></a></li><li><a href="riemann.cloudwatch.html"><span>riemann.cloudwatch</span></a></li><li class="current"><a href="riemann.common.html"><span>riemann.common</span></a></li><li><a href="riemann.config.html"><span>riemann.config</span></a></li><li><a href="riemann.core.html"><span>riemann.core</span></a></li><li><a href="riemann.datadog.html"><span>riemann.datadog</span></a></li><li><a href="riemann.deps.html"><span>riemann.deps</span></a></li><li><a href="riemann.druid.html"><span>riemann.druid</span></a></li><li><a href="riemann.elasticsearch.html"><span>riemann.elasticsearch</span></a></li><li><a href="riemann.email.html"><span>riemann.email</span></a></li><li><a href="riemann.expiration.html"><span>riemann.expiration</span></a></li><li><a href="riemann.folds.html"><span>riemann.folds</span></a></li><li><a href="riemann.graphite.html"><span>riemann.graphite</span></a></li><li><a href="riemann.hipchat.html"><span>riemann.hipchat</span></a></li><li><a href="riemann.index.html"><span>riemann.index</span></a></li><li><a href="riemann.influxdb.html"><span>riemann.influxdb</span></a></li><li><a href="riemann.instrumentation.html"><span>riemann.instrumentation</span></a></li><li><a href="riemann.kairosdb.html"><span>riemann.kairosdb</span></a></li><li><a href="riemann.keenio.html"><span>riemann.keenio</span></a></li><li><a href="riemann.librato.html"><span>riemann.librato</span></a></li><li><a href="riemann.logentries.html"><span>riemann.logentries</span></a></li><li><a href="riemann.logging.html"><span>riemann.logging</span></a></li><li><a href="riemann.logstash.html"><span>riemann.logstash</span></a></li><li><a href="riemann.mailgun.html"><span>riemann.mailgun</span></a></li><li><a href="riemann.nagios.html"><span>riemann.nagios</span></a></li><li><a href="riemann.opentsdb.html"><span>riemann.opentsdb</span></a></li><li><a href="riemann.opsgenie.html"><span>riemann.opsgenie</span></a></li><li><a href="riemann.pagerduty.html"><span>riemann.pagerduty</span></a></li><li><a href="riemann.plugin.html"><span>riemann.plugin</span></a></li><li><a href="riemann.pool.html"><span>riemann.pool</span></a></li><li><a href="riemann.prometheus.html"><span>riemann.prometheus</span></a></li><li><a href="riemann.pubsub.html"><span>riemann.pubsub</span></a></li><li><a href="riemann.pushover.html"><span>riemann.pushover</span></a></li><li><a href="riemann.query.html"><span>riemann.query</span></a></li><li><a href="riemann.repl.html"><span>riemann.repl</span></a></li><li><a href="riemann.service.html"><span>riemann.service</span></a></li><li><a href="riemann.shinken.html"><span>riemann.shinken</span></a></li><li><a href="riemann.slack.html"><span>riemann.slack</span></a></li><li><a href="riemann.sns.html"><span>riemann.sns</span></a></li><li><a href="riemann.stackdriver.html"><span>riemann.stackdriver</span></a></li><li><a href="riemann.streams.html"><span>riemann.streams</span></a></li><li><a href="riemann.test.html"><span>riemann.test</span></a></li><li><a href="riemann.time.html"><span>riemann.time</span></a></li><li><a href="riemann.time.controlled.html"><span>riemann.time.controlled</span></a></li><li><a href="riemann.transport.html"><span>riemann.transport</span></a></li><li><a href="riemann.transport.debug.html"><span>riemann.transport.debug</span></a></li><li><a href="riemann.transport.graphite.html"><span>riemann.transport.graphite</span></a></li><li><a href="riemann.transport.opentsdb.html"><span>riemann.transport.opentsdb</span></a></li><li><a href="riemann.transport.sse.html"><span>riemann.transport.sse</span></a></li><li><a href="riemann.transport.tcp.html"><span>riemann.transport.tcp</span></a></li><li><a href="riemann.transport.udp.html"><span>riemann.transport.udp</span></a></li><li><a href="riemann.transport.websockets.html"><span>riemann.transport.websockets</span></a></li><li><a href="riemann.twilio.html"><span>riemann.twilio</span></a></li><li><a href="riemann.victorops.html"><span>riemann.victorops</span></a></li><li><a href="riemann.xymon.html"><span>riemann.xymon</span></a></li></ul></div><div class="sidebar" id="vars"><h3>Public Vars</h3><ul><li><a href="riemann.common.html#var-approx-equal"><span>approx-equal</span></a></li><li><a href="riemann.common.html#var-body"><span>body</span></a></li><li><a href="riemann.common.html#var-custom-attributes"><span>custom-attributes</span></a></li><li><a href="riemann.common.html#var-decode-inputstream"><span>decode-inputstream</span></a></li><li><a href="riemann.common.html#var-decode-msg"><span>decode-msg</span></a></li><li><a href="riemann.common.html#var-deprecated"><span>deprecated</span></a></li><li><a href="riemann.common.html#var-disjoint%3F"><span>disjoint?</span></a></li><li><a href="riemann.common.html#var-encode"><span>encode</span></a></li><li><a href="riemann.common.html#var-ensure-event-time"><span>ensure-event-time</span></a></li><li><a href="riemann.common.html#var-event"><span>event</span></a></li><li><a href="riemann.common.html#var-event-to-json"><span>event-to-json</span></a></li><li><a href="riemann.common.html#var-exception-%3Eevent"><span>exception-&gt;event</span></a></li><li><a href="riemann.common.html#var-expire"><span>expire</span></a></li><li><a href="riemann.common.html#var-get-hostname"><span>get-hostname</span></a></li><li><a href="riemann.common.html#var-hostname-refresh-interval"><span>hostname-refresh-interval</span></a></li><li><a href="riemann.common.html#var-human-uniq"><span>human-uniq</span></a></li><li><a href="riemann.common.html#var-iso8601-%3Eunix"><span>iso8601-&gt;unix</span></a></li><li><a href="riemann.common.html#var-localhost"><span>localhost</span></a></li><li><a href="riemann.common.html#var-map-matches%3F"><span>map-matches?</span></a></li><li><a href="riemann.common.html#var-match"><span>match</span></a></li><li><a href="riemann.common.html#var-member%3F"><span>member?</span></a></li><li><a href="riemann.common.html#var-middle"><span>middle</span></a></li><li><a href="riemann.common.html#var-overlap%3F"><span>overlap?</span></a></li><li><a href="riemann.common.html#var-pkey"><span>pkey</span></a></li><li><a href="riemann.common.html#var-post-load-event"><span>post-load-event</span></a></li><li><a href="riemann.common.html#var-re-matches%3F"><span>re-matches?</span></a></li><li><a href="riemann.common.html#var-subject"><span>subject</span></a></li><li><a href="riemann.common.html#var-subset%3F"><span>subset?</span></a></li><li><a href="riemann.common.html#var-time-at"><span>time-at</span></a></li><li><a href="riemann.common.html#var-unix-to-iso8601"><span>unix-to-iso8601</span></a></li></ul></div><div class="namespace-docs" id="content"><h2>riemann.common documentation</h2><pre class="doc">Utility functions. Time/date, some flow control constructs, protocol buffer
definitions and codecs, some vector set ops, etc.</pre><div class="public" id="var-approx-equal"><h3>approx-equal</h3><div class="usage"><code>(approx-equal x y)</code><code>(approx-equal x y tol)</code></div><pre class="doc">Returns true if x and y are roughly equal, such that x/y is within tol of
unity.</pre></div><div class="public" id="var-body"><h3>body</h3><div class="usage"><code>(body events)</code></div><pre class="doc">Constructs a message body for a set of events.
</pre></div><div class="public" id="var-custom-attributes"><h3>custom-attributes</h3><div class="usage"><code>(custom-attributes event)</code></div><pre class="doc">Returns a Map of the custom attributes of an Event.
</pre></div><div class="public" id="var-decode-inputstream"><h3>decode-inputstream</h3><div class="usage"><code>(decode-inputstream s)</code></div><pre class="doc">Decode an InputStream to a message. Decodes the protobuf representation of
Msg and applies post-load-event to all events.</pre></div><div class="public" id="var-decode-msg"><h3>decode-msg</h3><div class="usage"><code>(decode-msg msg)</code></div><pre class="doc">Decode a protobuf to a message. Decodes the protocol buffer
representation of Msg and applies post-load-event to all events.</pre></div><div class="public" id="var-deprecated"><h3>deprecated</h3><div class="usage"><code>(deprecated comment &amp; body)</code></div><pre class="doc">Wraps body in an implicit (do), and logs a deprecation notice when invoked.
</pre></div><div class="public" id="var-disjoint%3F"><h3>disjoint?</h3><div class="usage"><code>(disjoint? a b)</code></div><pre class="doc">Do a and b (any seqables) have no elements in common?
</pre></div><div class="public" id="var-encode"><h3>encode</h3><div class="usage"><code>(encode msg)</code></div><pre class="doc">Builds and dumps a protobuf message as bytes from a hash.
</pre></div><div class="public" id="var-ensure-event-time"><h3>ensure-event-time</h3><div class="usage"><code>(ensure-event-time e)</code></div><pre class="doc">Ensures an event has a timestamp.
</pre></div><div class="public" id="var-event"><h3>event</h3><div class="usage"><code>(event opts)</code></div><pre class="doc">Create a new event from a map.
</pre></div><div class="public" id="var-event-to-json"><h3>event-to-json</h3><div class="usage"><code>(event-to-json event)</code></div><pre class="doc">Convert an event to a JSON string.
</pre></div><div class="public" id="var-exception-%3Eevent"><h3>exception-&gt;event</h3><div class="usage"><code>(exception-&gt;event exception)</code><code>(exception-&gt;event e original)</code></div><pre class="doc">Creates an event from an Exception.
</pre></div><div class="public" id="var-expire"><h3>expire</h3><div class="usage"><code>(expire event)</code></div><pre class="doc">An expired version of an event.
</pre></div><div class="public" id="var-get-hostname"><h3>get-hostname</h3><div class="usage"><code>(get-hostname [age val])</code></div><pre class="doc">Fetches the hostname by shelling out to hostname (1), whenever the given age
is stale enough. If the given age is recent, as defined by
hostname-refresh-interval, returns age and val instead.</pre></div><div class="public" id="var-hostname-refresh-interval"><h3>hostname-refresh-interval</h3><div class="usage"></div><pre class="doc">How often to allow shelling out to hostname (1), in seconds.
</pre></div><div class="public" id="var-human-uniq"><h3>human-uniq</h3><div class="usage"><code>(human-uniq things type)</code></div><pre class="doc">Returns a human-readable string describing things, e.g.

importer
api1, api2, api4
23 services</pre></div><div class="public" id="var-iso8601-%3Eunix"><h3>iso8601-&gt;unix</h3><div class="usage"><code>(iso8601-&gt;unix iso8601)</code></div><pre class="doc">Transforms ISO8601 strings to unix timestamps.
</pre></div><div class="public" id="var-localhost"><h3>localhost</h3><div class="usage"><code>(localhost)</code></div><pre class="doc">Returns the local host name.
</pre></div><div class="public" id="var-map-matches%3F"><h3>map-matches?</h3><div class="usage"><code>(map-matches? pat obj)</code></div><pre class="doc">Does the given map pattern match obj?
</pre></div><div class="public" id="var-match"><h3>match</h3><div class="usage"><code>(match pred object)</code></div><pre class="doc">Does predicate describe object?
</pre></div><div class="public" id="var-member%3F"><h3>member?</h3><div class="usage"><code>(member? r s)</code></div><pre class="doc">Is r present in seqable s?
</pre></div><div class="public" id="var-middle"><h3>middle</h3><div class="usage"><code>(middle s)</code></div><pre class="doc">Takes the element at the middle of a seq.
</pre></div><div class="public" id="var-overlap%3F"><h3>overlap?</h3><div class="usage"><code>(overlap? a b)</code></div><pre class="doc">Do a and b (any seqables) have any elements in common?
</pre></div><div class="public" id="var-pkey"><h3>pkey</h3><div class="usage"><code>(pkey event)</code></div><pre class="doc">Primary key for an event.
</pre></div><div class="public" id="var-post-load-event"><h3>post-load-event</h3><div class="usage"><code>(post-load-event e)</code></div><pre class="doc">After events are loaded, we assign default times if none exist.
</pre></div><div class="public" id="var-re-matches%3F"><h3>re-matches?</h3><div class="usage"><code>(re-matches? re string)</code></div><pre class="doc">Does the given regex match string? Nil if string is nil.
</pre></div><div class="public" id="var-subject"><h3>subject</h3><div class="usage"><code>(subject events)</code></div><pre class="doc">Constructs a subject line for a set of events.
</pre></div><div class="public" id="var-subset%3F"><h3>subset?</h3><div class="usage"><code>(subset? required s)</code></div><pre class="doc">Are all elements of required present in seqable s?
</pre></div><div class="public" id="var-time-at"><h3>time-at</h3><div class="usage"><code>(time-at unix-time)</code></div><pre class="doc">Returns the Date of a unix epoch time.
</pre></div><div class="public" id="var-unix-to-iso8601"><h3>unix-to-iso8601</h3><div class="usage"><code>(unix-to-iso8601 unix)</code></div><pre class="doc">Transforms unix time to iso8601 string
</pre></div></div></body></html>